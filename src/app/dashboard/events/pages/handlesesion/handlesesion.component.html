<!--  upload -->
<ng-template #uploadTemplate>
  <nz-upload
    class="event-uploader"
    nzName="avatar"
    [nzCustomRequest]="actionServer"
    nzListType="picture-card"
    [nzShowUploadList]="false"
  >
    <ng-container *ngIf="!isValidValueImage">
      <div class="upload_placeholder">
        <i class="fas fa-upload"></i>
        <span>imagen de la sesión</span>
      </div>
    </ng-container>
    <img *ngIf="isValidValueImage" [src]="previewImage" style="width: 100%" />
  </nz-upload>
</ng-template>

<!-- event details -->

<ng-template #eventDetailsTemplate>
  <h1 class="title line_addon">Detalles de la sesión</h1>

  <form action="" [formGroup]="formSesion">
    <!-- title -->
    <nz-form-item>
      <nz-form-control class="control_form_le">
        <nz-form-label>Titulo </nz-form-label>
        <input
          type="text"
          nz-input
          formControlName="nameSesion"
          placeholder="Titulo del evento"
        />
      </nz-form-control>
    </nz-form-item>
    <!-- fecha -->
    <nz-form-item fxLayout="row" fxLayoutGap="10px">
      <nz-form-control fxFlex="45%" class="">
        <nz-form-label class="subtitle" style="font-style: italic"
          >Fecha</nz-form-label
        >
        <nz-date-picker
          formControlName="startDateSesion"
          class="w-100"
        ></nz-date-picker>
      </nz-form-control>
      <!--  time -->
      <nz-form-control fxFlex="45%" class="">
        <nz-form-label class="subtitle" style="font-style: italic"
          >Hora</nz-form-label
        >
        <nz-time-picker
          formControlName="startTimeSesion"
          class="w-100"
        ></nz-time-picker>
      </nz-form-control>
    </nz-form-item>
    <!-- url de la sesion -->
    <nz-form-item>
      <nz-form-control
        class="control_form_le"
        [nzErrorTip]="'No se reconoce el formato url'"
      >
        <nz-form-label>Link de la sesión </nz-form-label>
        <input
          type="url"
          nz-input
          placeholder="link de la sesión"
          formControlName="linkRoom"
        />
      </nz-form-control>
    </nz-form-item>
    <!--  time duration -->
    <nz-form-item>
      <nz-form-control>
        <nz-form-label class="subtitle">
          Tiempo de duración estimadod (horas)
        </nz-form-label>
        <nz-slider formControlName="duration" [nzMax]="15"> </nz-slider>
      </nz-form-control>
    </nz-form-item>
    <!-- descripcion -->
    <nz-form-item>
      <nz-form-control class="control_form_le">
        <nz-form-label class="">Descripción</nz-form-label>
        <textarea
          style="width: 100%"
          nz-input
          formControlName="description"
          [nzAutosize]="{ minRows: 5, maxRows: 15 }"
        ></textarea>
      </nz-form-control>
    </nz-form-item>
    <div fxLayout="row">
      <button
        nz-button
        nzType="primary"
        class="button_le ml-2"
        (click)="actionsSesion()"
      >
        {{ editMode ? "actualizar sesion" : "guardar" }}
      </button>
      <button nz-button nzType="primary" class="button_le ml-2">
        Eliminar
      </button>
      <button
        nz-button
        nzType="primary"
        class="button_le ml-2"
        (click)="newSesion()"
      >
        Nueva sesión
      </button>
    </div>
  </form>
</ng-template>

<!-- config event -->

<ng-template #configEventTemplate>
  <h1 class="title line_addon">Configuración del evento</h1>
  <app-list-sesions
    (clickSesionEvent)="actionClickSesion($event)"
    [sesions]="sesions"
  >
  </app-list-sesions>
</ng-template>

<!-- layout -->
<div
  class="contain"
  gdAreas="upload upload upload  | form form config | form form config "
  gdColumn="3"
  gdRow="3"
  gdGap="20px"
>
  <!-- upload -->
  <div gdArea="upload">
    <ng-container *ngTemplateOutlet="uploadTemplate"></ng-container>
  </div>
  <div gdArea="form">
    <ng-container *ngTemplateOutlet="eventDetailsTemplate"></ng-container>
  </div>
  <div gdArea="config">
    <ng-container *ngTemplateOutlet="configEventTemplate"></ng-container>
  </div>
</div>
