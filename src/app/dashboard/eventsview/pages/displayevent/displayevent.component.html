<article
  class="contain"
  *ngIf="currentEvent?.sesions"
  fxLayout="column"
  fxLayoutAlign="center center"
>
  <!-- MEDIA PREVIEW -->
  <nz-card>
    <h1 class="title line_addon">{{ currentEvent.name }}</h1>
    <div class="media">
      <img
        class="media__image"
        *ngIf="!isVideo"
        [src]="currentEvent.eventCover"
        alt=""
      />
      <app-videoplayer
        *ngIf="isVideo"
        [thumbnail]="currentEvent.eventCover"
        [src]="currentEvent.video.url"
      ></app-videoplayer>
    </div>
  </nz-card>
  <!-- information -->

  <nz-space class="information">
    <nz-card style="background: white" class="box">
      <div class="item">
        <th class="subtittle">Sesiones</th>
        <td>{{ currentEvent.sesions.length }}</td>
      </div>
      <div class="item right">
        <button
          nz-button
          nzType="primary"
          [disabled]="isRegister"
          (click)="registerEvent()"
        >
          {{ isRegister ? "Registrado" : "Registrarse" }}
        </button>
      </div>
    </nz-card>
  </nz-space>

  <!-- content -->
  <nz-card class="description">
    <h3 class="title">Descripción</h3>
    <div class="cotent_text">
      <p class="paragraph" *viewMore="{ sizeCLose: 100, sizeShow: 200 }">
        {{ currentEvent.description }}
      </p>
    </div>
  </nz-card>
  <!--  sesiones-->
  <nz-card class="w-100 my-4">
    <section class="contianer_sesions">
      <h2 style="margin-bottom: 2rem" class="title text-left w-100">
        Sesiones:
      </h2>
      <ng-template #notFoundSesions>
        <nz-empty nzNotFoundContent="No se ha gregado sesiones todavía">
        </nz-empty>
      </ng-template>
      <cdk-virtual-scroll-viewport
        itemSize="10"
        *ngIf="currentEvent.sesions.length > 0; else notFoundSesions"
        class="display"
        [ngStyle]="{ height: sizeDisplay }"
      >
        <nz-space-item *cdkVirtualFor="let sesion of currentEvent.sesions">
          <app-item-sesion
            (selectItem)="navigateSesion($event)"
            [sesion]="sesion"
          ></app-item-sesion>
        </nz-space-item>
      </cdk-virtual-scroll-viewport>
    </section>
  </nz-card>
  <!-- comments -->
  <ng-container *ngIf="currentEvent.includeComments">
    <app-comments [idBootrapComment]="currentEvent.id_comment"></app-comments>
  </ng-container>
</article>
