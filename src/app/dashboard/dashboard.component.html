<nz-layout class="app-layout">
  <nz-sider
    class="menu-sidebar"
    [nzWidth]="widthSidebar"
    [nzCollapsedWidth]="collapsableWidth"
    style="overflow: hidden"
    [(nzCollapsed)]="isCollapsed"
  >
    <div class="logo">
      <img src="assets/wellenesslogo.png" alt="" />
    </div>

    <ul
      nz-menu
      nzTheme="dark"
      nzMode="inline"
      [nzInlineCollapsed]="isCollapsed"
    >
      <ng-container *ngTemplateOutlet="tplmenu; context: { $implicit: menu }">
      </ng-container>
      <ng-template #tplmenu let-menu>
        <ng-container *ngFor="let item of menu">
          <li
            class="sibebar_item"
            *ngIf="!item.items"
            nz-menu-item
            [routerLink]="item.route"
          >
            <i nz-icon [nzType]="item.icon" *ngIf="item.icon"></i>
            <span>{{ item.name }}</span>
          </li>
          <li
            nz-submenu
            class="sidebar_item"
            *ngIf="item.items"
            [nzTitle]="item.name"
            nzIcon="{{ item.icon }}"
          >
            <ul>
              <li nz-menu-item *ngFor="let subItem of item.items">
                <a [routerLink]="subItem.route">
                  {{ subItem.name }}
                </a>
              </li>
            </ul>
          </li>
        </ng-container>
      </ng-template>
    </ul>
  </nz-sider>
  <nz-layout>
    <nz-header>
      <nav class="app-header">
        <span class="header-trigger" (click)="isCollapsed = !isCollapsed">
          <i
            class="trigger"
            nz-icon
            [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
          ></i>
        </span>
        <ul nz-menu nzMode="horizontal">
          <li
            nz-menu-item
            nzSelected
            routerLink="view/explorer"
            [queryParams]="{ type: 'events' }"
          >
            Eventos
          </li>
          <li
            nz-menu-item
            routerLink="view/explorer"
            [queryParams]="{ type: 'programs' }"
          >
            Programas
          </li>
          <!-- <li nz-menu-item>Anuncios</li> -->
          <app-navbar></app-navbar>
        </ul>
      </nav>
    </nz-header>
    <nz-content>
      <app-alert></app-alert>
      <div class="inner-content" fxLayout="row" fxLayoutAlign="center start">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>

<app-chat type="FLOAT"></app-chat>
